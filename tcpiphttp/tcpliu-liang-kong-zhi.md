如果发送方把数据发送的太快，接收方可能会来不及接收，这就会造成数据的丢失。

**流量控制**就是让发送方的发送速率不要太快，利用**滑动窗口机制**可以很方便地在TCP连接上实现对发送方的流量控制。

发送方的**发送窗口**不能超过接收方的**接收窗口**的数值。TCP窗口单位是字节，不是报文段。

![](/assets/00003.png)

设A向B发送数据，建立连接时，B告诉A：“我的接收窗口是rwnd=400”（rwnd：receiver window）。因此，发送方A的发送窗口不能超过接收方B的接收窗口。假设每一个报文段长度为100字节，而报文段序号的初始值设为1。**大写ACK表示首部中的确认ACK，小写ack\(假设值为201\)表示接收方希望接收编号从201开始的字节。**

从图中可以看出，B进行了三次流量控制。第一次把窗口减少到rwnd=300，第二次又减少到rwnd=100，第三次减少到rwnd=0，0表示不允许发送方再发送数据。这种使发送方暂停发送的状态将持续到接收方B重新发出一个新的窗口值为止。

